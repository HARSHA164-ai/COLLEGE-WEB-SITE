<!DOCTYPE html>
<html>
<head>
  <title>Faculty Upload</title>
</head>
<body>
  <h2>Upload Video Link</h2>
  <input type="text" id="videoLink" placeholder="Enter Google Drive video link">
  <button id="uploadBtn">Upload</button>

  <script type="module">
    import { db } from './firebase.js';
    import { collection, addDoc } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

    document.getElementById("uploadBtn").addEventListener("click", async () => {
      const link = document.getElementById("videoLink").value;

      if (!link.includes("drive.google.com")) {
        alert("Please enter a valid Google Drive link.");
        return;
      }

      try {
        await addDoc(collection(db, "videos"), {
          url: link
        });
        alert("Video link uploaded!");
        document.getElementById("videoLink").value = "";
      } catch (error) {
        console.error("Error uploading video:", error);
      }
    });
  </script>
</body>
</html>
